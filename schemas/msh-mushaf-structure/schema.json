{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://qud.itqan.community/schemas/msh-mushaf-structure.json",
  "title": "MSH: Mushaf Structure",
  "description": "Complete manuscript text for each narration",
  "version": "1.0.0",
  "layer_code": "MSH",
  "type": "object",
  "required": ["mushaf_id", "narration_ref", "complete_text", "sajdah_indices"],
  "properties": {
    "mushaf_id": {
      "type": "string",
      "format": "uuid",
      "description": "Unique identifier for this mushaf instance"
    },
    "narration_ref": {
      "type": "string",
      "format": "uuid",
      "description": "Foreign key to QIR (Qiraat Structure)"
    },
    "edition_ref": {
      "type": "string",
      "format": "uuid",
      "description": "Foreign key to EDN (Edition Variants) - optional"
    },

   "complete_text": {
    "type": "array",
   "description": "An ordered list of word IDs constituting the full Quran text in this narration.",
    "items": {
      "type": "string",
      "format": "uuid",
      "description": "Foreign key referencing word_id"
     }
    },
    "sajdah_indices": {
      "type": "array",
      "description": "Indices within the complete_text array where a Prostration (Sajdah) symbol occurs.",
      "items": {
        "type": "integer",
        "minimum": 0
      }
    },


    "provenance": {
      "type": "string",
      "description": "Source authority (e.g., 'King Fahd Complex Hafs v2.0')"
    },

    "total_verses": {
      "type": "integer",
      "minimum": 6000,
      "description": "Total verse count for this mushaf/narration (Hafs:6236, Warsh:6214)"
    },
    "total_words": {
      "type": "integer",
      "minimum": 300000,
      "description": "Total word count"
    }
  },
  "additionalProperties": false
}
